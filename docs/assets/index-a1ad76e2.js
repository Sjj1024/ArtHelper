import{o as e,r as s,j as i,m as n}from"./index-efa3a32c.js";import{C as a}from"./index-b686cec5.js";import{a as l}from"./index-639ffc53.js";import"./index-0373e759.js";/* empty css              */import"./index-8c8b720f.js";import"./index-9b480cfe.js";import"./index-9b8a3313.js";import{s as t}from"./store-7211fed8.js";import"./pickAttrs-1cd23dfa.js";import"./index-40784afc.js";import"./getScrollBarSize-c6833c2b.js";import"./index-1c1deade.js";import"./context-cb88fb1e.js";import"./statusUtils-b010cbea.js";import"./CheckOutlined-f0d55485.js";import"./SearchOutlined-03c63d28.js";import"./isEqual-8ee5b3ce.js";import"./useForceUpdate-9ad39bdf.js";import"./index-0a1440ec.js";import"./index-177532f7.js";import"./EyeOutlined-319494bf.js";import"./responsiveObserve-b13564d4.js";function d(){var d,r,o;document.title="查看序列号";let[c,m]=e();const p=c.get("license"),x=[{title:"产品",dataIndex:"prodname",key:"prodname"},{title:"当前版本",dataIndex:"version",key:"version"},{title:"最新版本",dataIndex:"versioncode",key:"versioncode"},{title:"状态",dataIndex:"status_main",key:"status_main"},{title:"状态详情",dataIndex:"status_details",key:"status_details"},{title:"操作",dataIndex:"action",key:"action",render:(e,s)=>i.jsx("span",{children:"-"})}],[j,u]=s.useState([]),[v,h]=s.useState(""),[N,b]=s.useState([]),[f,k]=s.useState({});return s.useEffect((()=>{(async()=>{const e=await t.getLicenseDetail({uuid:p});if(e&&200===e.code){k(e.data);const s=e.data.version.map((e=>({key:e.puuid,...e})));u(s),h(s.map((e=>e.prodname)).join(",")),b(s.map((e=>e.puuid)))}else n.error((null==e?void 0:e.msg)??"获取失败")})()}),[]),i.jsxs("div",{className:"license-box",children:[i.jsx(a,{title:"序列号基本信息",bordered:!0,children:i.jsxs("div",{className:"store-info-box",children:[i.jsxs("div",{className:"info-box-line",children:[i.jsxs("div",{className:"line-item",children:[i.jsx("span",{className:"line-label",children:"所属代理："}),i.jsx("span",{children:null==f?void 0:f.agentinname})]}),i.jsxs("div",{className:"line-item",children:[i.jsx("span",{className:"line-label",children:"所属门店："}),i.jsx("span",{children:null==f?void 0:f.providername})]})]}),i.jsxs("div",{className:"info-box-line",children:[i.jsxs("div",{className:"line-item",children:[i.jsx("span",{className:"line-label",children:"场地名称："}),i.jsx("span",{children:null==f?void 0:f.stationname})]}),i.jsxs("div",{className:"line-item",children:[i.jsx("span",{className:"line-label",children:"产品序列号："}),i.jsx("span",{children:null==(d=null==f?void 0:f.codetoprovider)?void 0:d.regcode})]})]}),i.jsxs("div",{className:"info-box-line",children:[i.jsxs("div",{className:"line-item",children:[i.jsx("span",{className:"line-label",children:"激活状态："}),i.jsx("span",{children:0===(null==f?void 0:f.status)?"待激活":1===(null==f?void 0:f.status)?"激活":"冻结"})]}),i.jsxs("div",{className:"line-item",children:[i.jsx("span",{className:"line-label",children:"状态详情："}),i.jsx("span",{children:null==(o=null==(r=null==f?void 0:f.codetoprovider)?void 0:r.statusreamk)?void 0:o.split(" ")[0]})]})]}),i.jsxs("div",{className:"info-box-line",children:[i.jsxs("div",{className:"line-item",children:[i.jsx("span",{className:"line-label",children:"产品内容："}),i.jsx("span",{children:v||"未添加"})]}),i.jsxs("div",{className:"line-item",children:[i.jsx("span",{className:"line-label",children:"使用限制："}),i.jsx("span",{children:"主机限制"})]})]})]})}),i.jsx(l,{className:"productBox",dataSource:j,columns:x,pagination:{position:[]}},"puuid")]})}export{d as default};
