import{r as n,aR as e,q as t,i as r,ac as o,aS as u,aT as a,ai as c,P as i,aU as l}from"./index-efa3a32c.js";import{g as f}from"./getScrollBarSize-c6833c2b.js";var d=n.createContext(null),s=[];var v="rc-util-locker-".concat(Date.now()),m=0;function h(e){var r=!!e,c=n.useState((function(){return m+=1,"".concat(v,"_").concat(m)})),i=t(c,1)[0];o((function(){if(r){var n=f(document.body).width,e=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;u("\nhtml body {\n  overflow-y: hidden;\n  ".concat(e?"width: calc(100% - ".concat(n,"px);"):"","\n}"),i)}else a(i);return function(){a(i)}}),[r,i])}var p=!1;var y=function(n){return!1!==n&&(e()&&n?"string"==typeof n?document.querySelector(n):"function"==typeof n?n():n:null)},g=n.forwardRef((function(u,a){var f=u.open,v=u.autoLock,m=u.getContainer;u.debug;var g=u.autoDestroy,w=void 0===g||g,E=u.children,S=n.useState(f),b=t(S,2),x=b[0],C=b[1],P=x||f;n.useEffect((function(){(w||f)&&C(f)}),[f,w]);var H=n.useState((function(){return y(m)})),R=t(H,2),j=R[0],k=R[1];n.useEffect((function(){var n=y(m);k(null!=n?n:null)}));var q=function(u){var a=n.useState((function(){return e()?document.createElement("div"):null})),c=t(a,1)[0],i=n.useRef(!1),l=n.useContext(d),f=n.useState(s),v=t(f,2),m=v[0],h=v[1],p=l||(i.current?void 0:function(n){h((function(e){return[n].concat(r(e))}))});function y(){c.parentElement||document.body.appendChild(c),i.current=!0}function g(){var n;null===(n=c.parentElement)||void 0===n||n.removeChild(c),i.current=!1}return o((function(){return u?l?l(y):y():g(),g}),[u]),o((function(){m.length&&(m.forEach((function(n){return n()})),h(s))}),[m]),[c,p]}(P&&!j),D=t(q,2),W=D[0],z=D[1],B=null!=j?j:W;h(v&&f&&e()&&(B===W||B===document.body));var L=null;E&&c(E)&&a&&(L=E.ref);var T=i(L,a);if(!P||!e()||void 0===j)return null;var U,_=!1===B||("boolean"==typeof U&&(p=U),p),A=E;return a&&(A=n.cloneElement(E,{ref:T})),n.createElement(d.Provider,{value:z},_?A:l.createPortal(A,B))}));export{g as P};
