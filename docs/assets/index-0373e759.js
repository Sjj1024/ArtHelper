import{r as e,C as n,q as t,w as a,s as r,f as l,_ as o,i as u,D as i}from"./index-efa3a32c.js";import{C as c}from"./index-0a1440ec.js";import{c as s}from"./context-cb88fb1e.js";var f=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},d=e.createContext(null),p=function(i,c){var s=i.defaultValue,p=i.children,v=i.options,m=void 0===v?[]:v,b=i.prefixCls,g=i.className,h=i.style,x=i.onChange,C=f(i,["defaultValue","children","options","prefixCls","className","style","onChange"]),O=e.useContext(n),E=O.getPrefixCls,w=O.direction,j=e.useState(C.value||s||[]),k=t(j,2),N=k[0],P=k[1],V=e.useState([]),_=t(V,2),S=_[0],I=_[1];e.useEffect((function(){"value"in C&&P(C.value||[])}),[C.value]);var M=function(){return m.map((function(e){return"string"==typeof e||"number"==typeof e?{label:e,value:e}:e}))},T=E("checkbox",b),G="".concat(T,"-group"),L=a(C,["value","disabled"]);m&&m.length>0&&(p=M().map((function(n){return e.createElement(y,{prefixCls:T,key:n.value.toString(),disabled:"disabled"in n?n.disabled:C.disabled,value:n.value,checked:N.includes(n.value),onChange:n.onChange,className:"".concat(G,"-item"),style:n.style},n.label)})));var R={toggleOption:function(e){var n=N.indexOf(e.value),t=u(N);-1===n?t.push(e.value):t.splice(n,1),"value"in C||P(t);var a=M();null==x||x(t.filter((function(e){return S.includes(e)})).sort((function(e,n){return a.findIndex((function(n){return n.value===e}))-a.findIndex((function(e){return e.value===n}))})))},value:N,disabled:C.disabled,name:C.name,registerValue:function(e){I((function(n){return[].concat(u(n),[e])}))},cancelValue:function(e){I((function(n){return n.filter((function(n){return n!==e}))}))}},q=r(G,l({},"".concat(G,"-rtl"),"rtl"===w),g);return e.createElement("div",o({className:q,style:h},L,{ref:c}),e.createElement(d.Provider,{value:R},p))},v=e.forwardRef(p);const m=e.memo(v);var b=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},g=function(t,a){var u,f=t.prefixCls,p=t.className,v=t.children,m=t.indeterminate,g=void 0!==m&&m,y=t.style,h=t.onMouseEnter,x=t.onMouseLeave,C=t.skipGroup,O=void 0!==C&&C,E=t.disabled,w=b(t,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),j=e.useContext(n),k=j.getPrefixCls,N=j.direction,P=e.useContext(d),V=e.useContext(s).isFormItemInput,_=e.useContext(i),S=null!==(u=(null==P?void 0:P.disabled)||E)&&void 0!==u?u:_,I=e.useRef(w.value);e.useEffect((function(){null==P||P.registerValue(w.value)}),[]),e.useEffect((function(){if(!O)return w.value!==I.current&&(null==P||P.cancelValue(I.current),null==P||P.registerValue(w.value),I.current=w.value),function(){return null==P?void 0:P.cancelValue(w.value)}}),[w.value]);var M=k("checkbox",f),T=o({},w);P&&!O&&(T.onChange=function(){w.onChange&&w.onChange.apply(w,arguments),P.toggleOption&&P.toggleOption({label:v,value:w.value})},T.name=P.name,T.checked=P.value.includes(w.value));var G=r(l(l(l(l(l({},"".concat(M,"-wrapper"),!0),"".concat(M,"-rtl"),"rtl"===N),"".concat(M,"-wrapper-checked"),T.checked),"".concat(M,"-wrapper-disabled"),S),"".concat(M,"-wrapper-in-form-item"),V),p),L=r(l({},"".concat(M,"-indeterminate"),g)),R=g?"mixed":void 0;return e.createElement("label",{className:G,style:y,onMouseEnter:h,onMouseLeave:x},e.createElement(c,o({"aria-checked":R},T,{prefixCls:M,className:L,disabled:S,ref:a})),void 0!==v&&e.createElement("span",null,v))};const y=e.forwardRef(g);var h=y;h.Group=m,h.__ANT_CHECKBOX=!0;const x=h;export{x as C};
