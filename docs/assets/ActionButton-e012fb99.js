import{r as n,ag as e,q as r,B as t,_ as u,aI as i}from"./index-efa3a32c.js";function o(n){return!(!n||!n.then)}const c=function(c){var f=n.useRef(!1),l=n.useRef(null),s=e(!1),a=r(s,2),v=a[0],p=a[1],d=c.close,m=function(){null==d||d.apply(void 0,arguments)};n.useEffect((function(){var n=null;return c.autoFocus&&(n=setTimeout((function(){var n;null===(n=l.current)||void 0===n||n.focus()}))),function(){n&&clearTimeout(n)}}),[]);var h=c.type,x=c.children,g=c.prefixCls,y=c.buttonProps;return n.createElement(t,u({},i(h),{onClick:function(n){var e=c.actionFn;if(!f.current)if(f.current=!0,e){var r;if(c.emitEvent){if(r=e(n),c.quitOnNullishReturnValue&&!o(r))return f.current=!1,void m(n)}else if(e.length)r=e(d),f.current=!1;else if(!(r=e()))return void m();!function(n){o(n)&&(p(!0),n.then((function(){p(!1,!0),m.apply(void 0,arguments),f.current=!1}),(function(n){return p(!1,!0),f.current=!1,Promise.reject(n)})))}(r)}else m()},loading:v,prefixCls:g},y,{ref:l}),x)};export{c as A};
