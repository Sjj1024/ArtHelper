import{u as e,d as t,o as i,r as a,j as o,B as s,m as r}from"./index-efa3a32c.js";import{F as m}from"./index-ae2d5997.js";import{a as n}from"./index-639ffc53.js";import"./index-0373e759.js";/* empty css              */import"./index-8c8b720f.js";import"./index-9b480cfe.js";import"./index-9b8a3313.js";import{h as p}from"./hado-a6960cf0.js";import{u as l}from"./useSetState-78ffd672.js";import"./context-cb88fb1e.js";import"./responsiveObserve-b13564d4.js";import"./pickAttrs-1cd23dfa.js";import"./index-40784afc.js";import"./getScrollBarSize-c6833c2b.js";import"./index-1c1deade.js";import"./statusUtils-b010cbea.js";import"./CheckOutlined-f0d55485.js";import"./SearchOutlined-03c63d28.js";import"./isEqual-8ee5b3ce.js";import"./useForceUpdate-9ad39bdf.js";import"./index-0a1440ec.js";import"./index-177532f7.js";import"./EyeOutlined-319494bf.js";function d(){document.title="游戏配置";const d=e();t((e=>e.app.powersCode));let[c,u]=i();const j=c.get("id");m.useForm();const[g,x]=a.useState([]),[N,S]=a.useState(!1),[f,h]=l({pageNum:1,pageSize:10,total:0}),y=async e=>{const t={page:e.pageNum,limit:e.pageSize,filetype:j};S(!0);try{const i=await p.operationRecord(t);i&&200===i.code?(x(i.data),h({total:i.cont,pageNum:e.pageNum,pageSize:e.pageSize})):r.error((null==i?void 0:i.message)??"获取失败")}finally{S(!1)}},k={0:"同步配置",1:"上传配置",2:"删除配置"},z=a.useMemo((()=>g.map(((e,t)=>({key:e.id,fileName:e.filename,controlName:e.username,control:k[e.optstatus],controlTime:e.addtime})))),[f,g]);return a.useEffect((()=>{y(f)}),[]),o.jsxs("div",{className:"gameList",children:[o.jsx("div",{className:"btnBox",children:o.jsx(s,{type:"primary",ghost:!0,className:"btn",onClick:()=>{d("/game/list")},children:"返回上级"})}),o.jsx("div",{className:"diy-table",children:o.jsx(n,{columns:[{title:"文件名",dataIndex:"fileName",key:"fileName"},{title:"操作",dataIndex:"control",key:"control"},{title:"操作者",dataIndex:"controlName",key:"controlName"},{title:"操作时间",dataIndex:"controlTime",key:"controlTime"}],loading:N,dataSource:z,pagination:{total:f.total,current:f.pageNum,pageSize:f.pageSize,showQuickJumper:!1,showTotal:e=>`共 ${e} 条数据`,onChange:(e,t)=>((e,t)=>{y({pageNum:e,pageSize:t||f.pageSize})})(e,t)}})})]})}export{d as default};
