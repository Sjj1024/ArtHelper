import{y as e,aD as t,r as n,q as o,E as r,_ as a,s as c,R as l,aE as i,K as s,aF as u,C as f,f as m,al as d,U as p,aG as v,aH as C,B as y,aI as g,Y as b,aJ as x,i as E,aK as k,aL as N,aM as h,aN as T,aO as w,aP as P,aQ as O,ab as I}from"./index-efa3a32c.js";import{A as R}from"./ActionButton-e012fb99.js";import{P as S}from"./Portal-08554165.js";import{p as A}from"./pickAttrs-1cd23dfa.js";import{f as j}from"./context-cb88fb1e.js";var M=0,B=e({},t).useId;const D=B?function(e){var t=B();return e||t}:function(e){var t=n.useState("ssr-id"),r=o(t,2),a=r[0],c=r[1];return n.useEffect((function(){var e=M;M+=1,c("rc_unique_".concat(e))}),[]),e||a};function F(t){var o=t.prefixCls,l=t.style,i=t.visible,s=t.maskProps,u=t.motionName;return n.createElement(r,{key:"mask",visible:i,motionName:u,leavedClassName:"".concat(o,"-mask-hidden")},(function(t,r){var i=t.className,u=t.style;return n.createElement("div",a({ref:r,style:e(e({},u),l),className:c("".concat(o,"-mask"),i)},s))}))}function L(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function z(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var r=e.document;"number"!=typeof(n=r.documentElement[o])&&(n=r.body[o])}return n}const _=n.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate}));var U={width:0,height:0,overflow:"hidden",outline:"none"},H=l.forwardRef((function(t,o){var r=t.prefixCls,i=t.className,s=t.style,u=t.title,f=t.ariaId,m=t.footer,d=t.closable,p=t.closeIcon,v=t.onClose,C=t.children,y=t.bodyStyle,g=t.bodyProps,b=t.modalRender,x=t.onMouseDown,E=t.onMouseUp,k=t.holderRef,N=t.visible,h=t.forceRender,T=t.width,w=t.height,P=n.useRef(),O=n.useRef();l.useImperativeHandle(o,(function(){return{focus:function(){var e;null===(e=P.current)||void 0===e||e.focus({preventScroll:!0})},changeActive:function(e){var t=document.activeElement;e&&t===O.current?P.current.focus({preventScroll:!0}):e||t!==P.current||O.current.focus({preventScroll:!0})}}}));var I,R,S,A={};void 0!==T&&(A.width=T),void 0!==w&&(A.height=w),m&&(I=l.createElement("div",{className:"".concat(r,"-footer")},m)),u&&(R=l.createElement("div",{className:"".concat(r,"-header")},l.createElement("div",{className:"".concat(r,"-title"),id:f},u))),d&&(S=l.createElement("button",{type:"button",onClick:v,"aria-label":"Close",className:"".concat(r,"-close")},p||l.createElement("span",{className:"".concat(r,"-close-x")})));var j=l.createElement("div",{className:"".concat(r,"-content")},S,R,l.createElement("div",a({className:"".concat(r,"-body"),style:y},g),C),I);return l.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":u?f:null,"aria-modal":"true",ref:k,style:e(e({},s),A),className:c(r,i),onMouseDown:x,onMouseUp:E},l.createElement("div",{tabIndex:0,ref:P,style:U}),l.createElement(_,{shouldUpdate:N||h},b?b(j):j),l.createElement("div",{tabIndex:0,ref:O,style:U}))})),K=n.forwardRef((function(t,l){var i=t.prefixCls,s=t.title,u=t.style,f=t.className,m=t.visible,d=t.forceRender,p=t.destroyOnClose,v=t.motionName,C=t.ariaId,y=t.onVisibleChanged,g=t.mousePosition,b=n.useRef(),x=n.useState(),E=o(x,2),k=E[0],N=E[1],h={};function T(){var e,t,n,o,r,a=(e=b.current,t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,r=o.defaultView||o.parentWindow,n.left+=z(r),n.top+=z(r,!0),n);N(g?"".concat(g.x-a.left,"px ").concat(g.y-a.top,"px"):"")}return k&&(h.transformOrigin=k),n.createElement(r,{visible:m,onVisibleChanged:y,onAppearPrepare:T,onEnterPrepare:T,forceRender:d,motionName:v,removeOnLeave:p,ref:b},(function(o,r){var m=o.className,d=o.style;return n.createElement(H,a({},t,{ref:l,title:s,ariaId:C,prefixCls:i,holderRef:r,style:e(e(e({},d),u),h),className:c(f,m)}))}))}));function V(t){var r=t.prefixCls,l=void 0===r?"rc-dialog":r,u=t.zIndex,f=t.visible,m=void 0!==f&&f,d=t.keyboard,p=void 0===d||d,v=t.focusTriggerAfterClose,C=void 0===v||v,y=t.wrapStyle,g=t.wrapClassName,b=t.wrapProps,x=t.onClose,E=t.afterClose,k=t.transitionName,N=t.animation,h=t.closable,T=void 0===h||h,w=t.mask,P=void 0===w||w,O=t.maskTransitionName,I=t.maskAnimation,R=t.maskClosable,S=void 0===R||R,j=t.maskStyle,M=t.maskProps,B=t.rootClassName,z=n.useRef(),_=n.useRef(),U=n.useRef(),H=n.useState(m),V=o(H,2),Y=V[0],q=V[1],X=D();function G(e){null==x||x(e)}var J=n.useRef(!1),Q=n.useRef(),W=null;return S&&(W=function(e){J.current?J.current=!1:_.current===e.target&&G(e)}),n.useEffect((function(){m&&(q(!0),i(_.current,document.activeElement)||(z.current=document.activeElement))}),[m]),n.useEffect((function(){return function(){clearTimeout(Q.current)}}),[]),n.createElement("div",a({className:c("".concat(l,"-root"),B)},A(t,{data:!0})),n.createElement(F,{prefixCls:l,visible:P&&m,motionName:L(l,O,I),style:e({zIndex:u},j),maskProps:M}),n.createElement("div",a({tabIndex:-1,onKeyDown:function(e){if(p&&e.keyCode===s.ESC)return e.stopPropagation(),void G(e);m&&e.keyCode===s.TAB&&U.current.changeActive(!e.shiftKey)},className:c("".concat(l,"-wrap"),g),ref:_,onClick:W,style:e(e({zIndex:u},y),{},{display:Y?null:"none"})},b),n.createElement(K,a({},t,{onMouseDown:function(){clearTimeout(Q.current),J.current=!0},onMouseUp:function(){Q.current=setTimeout((function(){J.current=!1}))},ref:U,closable:T,ariaId:X,prefixCls:l,visible:m&&Y,onClose:G,onVisibleChanged:function(e){if(e)i(_.current,document.activeElement)||null===(t=U.current)||void 0===t||t.focus();else{if(q(!1),P&&z.current&&C){try{z.current.focus({preventScroll:!0})}catch(n){}z.current=null}Y&&(null==E||E())}var t},motionName:L(l,k,N)}))))}K.displayName="Content";var Y=function(e){var t=e.visible,r=e.getContainer,c=e.forceRender,l=e.destroyOnClose,i=void 0!==l&&l,s=e.afterClose,u=n.useState(t),f=o(u,2),m=f[0],d=f[1];return n.useEffect((function(){t&&d(!0)}),[t]),c||!i||m?n.createElement(S,{open:t||c||m,autoDestroy:!1,getContainer:r,autoLock:t||m},n.createElement(V,a({},e,{destroyOnClose:i,afterClose:function(){null==s||s(),d(!1)}}))):null};Y.displayName="Dialog";var q,X=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};u()&&document.documentElement.addEventListener("click",(function(e){q={x:e.pageX,y:e.pageY},setTimeout((function(){q=null}),100)}),!0);const G=function(e){var t,o=n.useContext(f),r=o.getPopupContainer,l=o.getPrefixCls,i=o.direction,s=function(t){var n=e.onCancel;null==n||n(t)},u=function(t){var n=e.onOk;null==n||n(t)},x=e.prefixCls,E=e.footer,k=e.visible,N=e.open,h=void 0!==N&&N,T=e.wrapClassName,w=e.centered,P=e.getContainer,O=e.closeIcon,I=e.focusTriggerAfterClose,R=void 0===I||I,S=e.width,A=void 0===S?520:S,M=X(e,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","width"]),B=l("modal",x),D=l(),F=n.createElement(v,{componentName:"Modal",defaultLocale:C()},(function(t){var o=e.okText,r=e.okType,c=void 0===r?"primary":r,l=e.cancelText,i=e.confirmLoading,f=void 0!==i&&i;return n.createElement(n.Fragment,null,n.createElement(y,a({onClick:s},e.cancelButtonProps),l||t.cancelText),n.createElement(y,a({},g(c),{loading:f,onClick:u},e.okButtonProps),null!=o?o:t.okText))})),L=n.createElement("span",{className:"".concat(B,"-close-x")},O||n.createElement(b,{className:"".concat(B,"-close-icon")})),z=c(T,m(m({},"".concat(B,"-centered"),!!w),"".concat(B,"-wrap-rtl"),"rtl"===i));return n.createElement(d,null,n.createElement(j,{status:!0,override:!0},n.createElement(Y,a({width:A},M,{getContainer:void 0===P?r:P,prefixCls:B,wrapClassName:z,footer:void 0===E?F:E,visible:h||k,mousePosition:null!==(t=M.mousePosition)&&void 0!==t?t:q,onClose:s,closeIcon:L,focusTriggerAfterClose:R,transitionName:p(D,"zoom",e.transitionName),maskTransitionName:p(D,"fade",e.maskTransitionName)}))))};const J=function(e){var t=e.icon,o=e.onCancel,r=e.onOk,a=e.close,l=e.zIndex,i=e.afterClose,s=e.visible,u=e.open,f=e.keyboard,d=e.centered,v=e.getContainer,C=e.maskStyle,y=e.okText,g=e.okButtonProps,b=e.cancelText,E=e.cancelButtonProps,k=e.direction,N=e.prefixCls,h=e.wrapClassName,T=e.rootPrefixCls,w=e.iconPrefixCls,P=e.bodyStyle,O=e.closable,I=void 0!==O&&O,S=e.closeIcon,A=e.modalRender,j=e.focusTriggerAfterClose,M=e.okType||"primary",B="".concat(N,"-confirm"),D=!("okCancel"in e)||e.okCancel,F=e.width||416,L=e.style||{},z=void 0===e.mask||e.mask,_=void 0!==e.maskClosable&&e.maskClosable,U=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),H=c(B,"".concat(B,"-").concat(e.type),m({},"".concat(B,"-rtl"),"rtl"===k),e.className),K=D&&n.createElement(R,{actionFn:o,close:a,autoFocus:"cancel"===U,buttonProps:E,prefixCls:"".concat(T,"-btn")},b);return n.createElement(x,{prefixCls:T,iconPrefixCls:w,direction:k},n.createElement(G,{prefixCls:N,className:H,wrapClassName:c(m({},"".concat(B,"-centered"),!!e.centered),h),onCancel:function(){return null==a?void 0:a({triggerCancel:!0})},open:u||s,title:"",footer:"",transitionName:p(T,"zoom",e.transitionName),maskTransitionName:p(T,"fade",e.maskTransitionName),mask:z,maskClosable:_,maskStyle:C,style:L,bodyStyle:P,width:F,zIndex:l,afterClose:i,keyboard:f,centered:d,getContainer:v,closable:I,closeIcon:S,modalRender:A,focusTriggerAfterClose:j},n.createElement("div",{className:"".concat(B,"-body-wrapper")},n.createElement("div",{className:"".concat(B,"-body")},t,void 0===e.title?null:n.createElement("span",{className:"".concat(B,"-title")},e.title),n.createElement("div",{className:"".concat(B,"-content")},e.content)),n.createElement("div",{className:"".concat(B,"-btns")},K,n.createElement(R,{type:M,actionFn:r,close:a,autoFocus:"ok"===U,buttonProps:g,prefixCls:"".concat(T,"-btn")},y)))))};const Q=[];var W=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Z="";function $(e){var t,o=document.createDocumentFragment(),r=a(a({},e),{close:i,open:!0});function c(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.some((function(e){return e&&e.triggerCancel}));e.onCancel&&a&&e.onCancel.apply(e,[function(){}].concat(E(n.slice(1))));for(var c=0;c<Q.length;c++){if(Q[c]===i){Q.splice(c,1);break}}k(o)}function l(e){var r=e.okText,c=e.cancelText,l=e.prefixCls,i=W(e,["okText","cancelText","prefixCls"]);clearTimeout(t),t=setTimeout((function(){var e=C(),t=O(),s=t.getPrefixCls,u=t.getIconPrefixCls,f=s(void 0,Z),m=l||"".concat(f,"-modal"),d=u();N(n.createElement(J,a({},i,{prefixCls:m,rootPrefixCls:f,iconPrefixCls:d,okText:r||(i.okCancel?e.okText:e.justOkText),cancelText:c||e.cancelText})),o)}))}function i(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];(r=a(a({},r),{open:!1,afterClose:function(){"function"==typeof e.afterClose&&e.afterClose(),c.apply(t,o)}})).visible&&delete r.visible,l(r)}return l(r),Q.push(i),{destroy:i,update:function(e){l(r="function"==typeof e?e(r):a(a({},r),e))}}}function ee(e){return a(a({icon:n.createElement(h,null),okCancel:!1},e),{type:"warning"})}function te(e){return a(a({icon:n.createElement(T,null),okCancel:!1},e),{type:"info"})}function ne(e){return a(a({icon:n.createElement(w,null),okCancel:!1},e),{type:"success"})}function oe(e){return a(a({icon:n.createElement(P,null),okCancel:!1},e),{type:"error"})}function re(e){return a(a({icon:n.createElement(h,null),okCancel:!0},e),{type:"confirm"})}var ae=function(e,t){var r=e.afterClose,c=e.config,l=n.useState(!0),i=o(l,2),s=i[0],u=i[1],m=n.useState(c),d=o(m,2),p=d[0],C=d[1],y=n.useContext(f),g=y.direction,b=y.getPrefixCls,x=b("modal"),k=b(),N=function(){u(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.some((function(e){return e&&e.triggerCancel}));p.onCancel&&o&&p.onCancel.apply(p,[function(){}].concat(E(t.slice(1))))};return n.useImperativeHandle(t,(function(){return{destroy:N,update:function(e){C((function(t){return a(a({},t),e)}))}}})),n.createElement(v,{componentName:"Modal",defaultLocale:I.Modal},(function(e){return n.createElement(J,a({prefixCls:x,rootPrefixCls:k},p,{close:N,open:s,afterClose:r,okText:p.okText||(p.okCancel?e.okText:e.justOkText),direction:g,cancelText:p.cancelText||e.cancelText}))}))};const ce=n.forwardRef(ae);var le=0,ie=n.memo(n.forwardRef((function(e,t){var r=function(){var e=n.useState([]),t=o(e,2),r=t[0],a=t[1];return[r,n.useCallback((function(e){return a((function(t){return[].concat(E(t),[e])})),function(){a((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),a=o(r,2),c=a[0],l=a[1];return n.useImperativeHandle(t,(function(){return{patchElement:l}}),[]),n.createElement(n.Fragment,null,c)})));function se(e){return $(ee(e))}var ue=G;ue.useModal=function(){var e=n.useRef(null),t=n.useState([]),r=o(t,2),a=r[0],c=r[1];n.useEffect((function(){a.length&&(E(a).forEach((function(e){e()})),c([]))}),[a]);var l=n.useCallback((function(t){return function(o){var r;le+=1;var a,l=n.createRef(),i=n.createElement(ce,{key:"modal-".concat(le),config:t(o),ref:l,afterClose:function(){null==a||a()}});return a=null===(r=e.current)||void 0===r?void 0:r.patchElement(i),{destroy:function(){function e(){var e;null===(e=l.current)||void 0===e||e.destroy()}l.current?e():c((function(t){return[].concat(E(t),[e])}))},update:function(e){function t(){var t;null===(t=l.current)||void 0===t||t.update(e)}l.current?t():c((function(e){return[].concat(E(e),[t])}))}}}}),[]);return[n.useMemo((function(){return{info:l(te),success:l(ne),error:l(oe),warning:l(ee),confirm:l(re)}}),[]),n.createElement(ie,{ref:e})]},ue.info=function(e){return $(te(e))},ue.success=function(e){return $(ne(e))},ue.error=function(e){return $(oe(e))},ue.warning=se,ue.warn=se,ue.confirm=function(e){return $(re(e))},ue.destroyAll=function(){for(;Q.length;){var e=Q.pop();e&&e()}},ue.config=function(e){var t=e.rootPrefixCls;Z=t};const fe=ue;export{Y as D,fe as M};
